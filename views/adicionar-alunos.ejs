<!-- Seção do cabeçalho, imports de CSS e scripts -->
<%- include('layout/header') %>

<div class="container">
  <div class="row my-4">
    <div class="col-lg-12">
      <link rel="stylesheet" type="text/css" href="/css/style.css" />
      <h3>Importar Arquivo</h3>
      <form action="/upload" method="POST" enctype="multipart/form-data">
        <div class="form-group">
          <label for="campus">Campus:</label>
          <select id="campus" name="campus" class="form-control" required></select>
        </div>
        <div class="form-group">
          <label for="fileInput">Selecione um arquivo:</label>
          <input type="file" class="form-control-file" id="fileInput" name="csvFile">
        </div>
        <button type="submit" class="btn btn-primary">Enviar Arquivo</button>
      </form>
    </div>
  </div>
</div>
<script>
  fetch('/get-campus')
    .then(response => response.json())
    .then(data => {
      
      var campusSelect = document.getElementById('campus');

      data.forEach(campus => {
        var option = document.createElement('option');
        option.value = campus._id; 
        option.textContent = campus.nome; 
        campusSelect.appendChild(option);
      });

    })
    .catch(error => {
      console.error('Erro ao buscar as disciplinas:', error);
    });

</script>


<%- include('layout/footer') %>
